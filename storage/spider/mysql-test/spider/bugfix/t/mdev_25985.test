--disable_warnings
--disable_query_log
--disable_result_log
--source ../../t/test_init.inc
--enable_result_log
--enable_query_log
--enable_warnings

--echo
--echo MDEV-25985 Spider handle ">=" as ">" in some cases
--echo

--connection child2_1
CREATE DATABASE auto_test_remote;
USE auto_test_remote;

--disable_query_log
eval CREATE TABLE tbl_a (
    a int,
    b int,
    c int,
    PRIMARY KEY (a),
    KEY (b,c)
) $CHILD2_1_ENGINE $CHILD2_1_CHARSET;

INSERT INTO tbl_a VALUES (1, 1, 1), (2, 2, 1);
--enable_query_log

--connection master_1
CREATE DATABASE auto_test_remote;
USE auto_test_remote;

--disable_query_log
eval CREATE TABLE tbl_a (
    a int,
    b int,
    c int,
    PRIMARY KEY (a),
    KEY (b,c)
) $MASTER_1_ENGINE $MASTER_1_CHARSET COMMENT='table "tbl_a"' PARTITION BY LIST COLUMNS(`a`) (
    PARTITION `ptdef` DEFAULT COMMENT = 'srv "s_2_1"'
);

--enable_query_log

--connection master_1
SELECT * FROM tbl_a WHERE c > 0 AND b >= 1 AND b <= 2;
SELECT * FROM tbl_a WHERE c < 3 AND b <= 2;

--connection master_1
DROP DATABASE IF EXISTS auto_test_remote;
--connection child2_1
DROP DATABASE IF EXISTS auto_test_remote;

--disable_warnings
--disable_query_log
--disable_result_log
--source ../../t/test_deinit.inc
--enable_result_log
--enable_query_log
--enable_warnings
